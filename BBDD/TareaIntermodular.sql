DROP DATABASE IF EXISTS casino;
CREATE DATABASE IF NOT EXISTS casino;
USE casino;

CREATE TABLE IF NOT EXISTS cliente (
  id_cliente INT AUTO_INCREMENT PRIMARY KEY,
  nombre_cliente VARCHAR(50),
  dni_cliente VARCHAR(9),
  edad INT,
  tarjeta BOOLEAN,
  saldo DECIMAL(10, 2),
  sexo ENUM('mujer', 'hombre')
);

CREATE TABLE IF NOT EXISTS crupier (
  id_crupier INT AUTO_INCREMENT PRIMARY KEY,
  nombre_crupier VARCHAR(50),
  dni_crupier VARCHAR(9)
);

CREATE TABLE IF NOT EXISTS juego (
  id_juego INT AUTO_INCREMENT PRIMARY KEY,
  nombre_juego VARCHAR(50),
  id_CrupierAsignado INT NOT NULL,
  FOREIGN KEY (id_CrupierAsignado) REFERENCES crupier(id_crupier)
);

CREATE TABLE IF NOT EXISTS clienteJuego (
  id_cliente INT,
  id_juego INT,
  fecha DATE,
  FOREIGN KEY (id_cliente) REFERENCES cliente(id_cliente),
  FOREIGN KEY (id_juego) REFERENCES juego(id_juego)
);

DELIMITER $$

CREATE TRIGGER añadirFecha
BEFORE INSERT ON clienteJuego
FOR EACH ROW
BEGIN
  SET NEW.fecha = SYSDATE();
END$$

DELIMITER ;

DELIMITER $$

CREATE PROCEDURE añadirSaldo(dineros DECIMAL(10, 2), id INT)
BEGIN
  UPDATE cliente
  SET saldo = saldo + dineros
  WHERE id_cliente = id;
END$$

DELIMITER ;

-- INSERTS PARA TABLA CLIENTE
INSERT INTO cliente (nombre_cliente, dni_cliente, edad, tarjeta, saldo, sexo) VALUES
('Lidia del Cerezo', '29598552C', 25, 1, 744.13, 'mujer'),
('José Escolano Verdú', '31388114F', 26, 1, 679.93, 'mujer'),
('Miguel Ángel Mata Ballesteros', '12988466H', 45, 1, 39.5, 'mujer'),
('Tamara Carrión Pou', '03040204F', 50, 1, 565.63, 'hombre'),
('Alonso Maza Carranza', '62078060F', 46, 0, 811.34, 'mujer'),
('Dani Castejón', '57466393M', 62, 0, 346.85, 'mujer'),
('Palmira Criado Fernandez', '93446891Y', 66, 0, 111.19, 'hombre'),
('Consuela Bermúdez-Sureda', '70459868A', 40, 0, 607.69, 'mujer'),
('Abigaíl Ferreras Jáuregui', '54075442Z', 52, 1, 973.38, 'hombre'),
('Eligio Exposito-Requena', '24399093W', 53, 0, 831.11, 'hombre'),
('Nicanor Ramirez Quirós', '56356758H', 30, 1, 55.37, 'mujer'),
('Chita Regina Barros Vilar', '59353768D', 23, 1, 867.82, 'hombre'),
('Luis Ángel Llabrés', '51386884P', 47, 0, 171.03, 'hombre'),
('Irma Mariño Vázquez', '10770011Y', 60, 0, 704.8, 'mujer'),
('Plinio del Gomez', '62581359L', 58, 1, 538.8, 'mujer'),
('Nazaret de Aguado', '21372144M', 47, 0, 277.25, 'mujer'),
('Cornelio Juan Pablo Sans Palau', '82250759K', 38, 1, 236.76, 'mujer'),
('Felipe Benavent Cantón', '90128823X', 43, 0, 75.53, 'hombre'),
('Martirio Beltran Gomez', '45968247Y', 59, 0, 401.68, 'hombre'),
('Gloria Peiró Tena', '92591465G', 34, 1, 254.16, 'hombre'),
('Victorino Requena-Castañeda', '84302757H', 45, 0, 368.38, 'mujer'),
('Adelardo Aguilar Sastre', '98576134Q', 49, 1, 758.22, 'mujer'),
('Mar Mendez Alcántara', '19473825G', 58, 1, 794.16, 'hombre'),
('Mariano Capdevila', '42733271L', 22, 0, 387.8, 'hombre'),
('Eloy Fernández Pintor', '41140629Q', 34, 1, 683.48, 'mujer'),
('Seve Montero Julián', '91481437K', 52, 0, 770.91, 'hombre'),
('Eva María Uriarte Bejarano', '21882386A', 36, 0, 166.58, 'mujer'),
('Macaria Etelvina Andreu Barrena', '02334746P', 50, 1, 512.6, 'mujer'),
('Belén Cerdán Ropero', '37423355C', 37, 1, 161.31, 'mujer'),
('Sandra Castelló Mendoza', '39862008V', 67, 1, 602.96, 'hombre'),
('Judith Reig Noguera', '41253049T', 25, 0, 879.93, 'hombre'),
('Pedro de Aranda', '97661619F', 21, 1, 879.23, 'mujer'),
('Tania Luna Balaguer', '05491625W', 64, 0, 817.86, 'mujer'),
('Macario Cuevas Coronado', '34162946G', 60, 0, 947.38, 'mujer'),
('Plinio de Neira', '45821683P', 51, 0, 964.72, 'mujer'),
('Graciana de Mármol', '50060085E', 37, 0, 995.2, 'hombre'),
('Víctor Gual-Azorin', '20239640Z', 51, 0, 129.79, 'mujer'),
('Malena Alcolea Aznar', '41067153W', 39, 1, 592.43, 'mujer'),
('Aurora Esparza Guzman', '52816538H', 32, 1, 80.28, 'mujer'),
('Sandalio Cañellas Diaz', '43022638F', 22, 1, 861.04, 'mujer'),
('María Pilar de Jara', '95192086Q', 33, 0, 672.29, 'mujer'),
('Noa del Segura', '28056493V', 26, 0, 250.57, 'hombre'),
('María Águeda Blanes Granados', '91097678J', 30, 1, 105.96, 'hombre'),
('Reyes Fabregat Lladó', '46113716B', 45, 0, 472.35, 'mujer'),
('Virgilio Roberto Borja Berrocal', '21763680K', 59, 1, 70.01, 'hombre'),
('Samanta Márquez Pardo', '72419100A', 33, 1, 198.31, 'hombre'),
('Bernardino Donato Ramirez Almagro', '93442244G', 45, 1, 285.76, 'mujer'),
('Amarilis Pintor Salazar', '73026471W', 46, 1, 60.08, 'mujer'),
('Benjamín Batlle Aroca', '77104415W', 66, 1, 174.65, 'hombre'),
('Nadia Jiménez Espada', '93252806S', 31, 0, 903.42, 'mujer'),
('Noemí Fuente Narváez', '94924218N', 18, 0, 272.55, 'hombre'),
('Narciso Amador Campos', '89127031D', 45, 0, 163.25, 'hombre'),
('Elpidio Lobato Prat', '68380889Y', 21, 1, 750.5, 'mujer'),
('Primitivo Salinas Larrea', '70244210R', 55, 0, 507.82, 'mujer'),
('Salud Aramburu', '80215856R', 50, 1, 852.83, 'mujer'),
('Nélida Sotelo Torralba', '22996334L', 22, 1, 409.74, 'mujer'),
('Isidro Bartolomé Canet', '75906431H', 56, 1, 623.19, 'hombre'),
('Teófila Bueno Carranza', '58700035K', 55, 0, 935.36, 'mujer'),
('Elodia Osorio Rios', '16785847K', 63, 0, 246.3, 'hombre'),
('Valentín Soler Barrera', '04749783G', 60, 0, 462.65, 'mujer'),
('Estefanía Conde Aguilera', '83358297T', 47, 1, 82.53, 'mujer'),
('Lalo de Arnaiz', '31748000Q', 34, 1, 933.93, 'mujer'),
('Águeda Torrents', '97326747F', 41, 0, 166.17, 'hombre'),
('Victoria Ruiz Bolaños', '95925421L', 69, 1, 671.18, 'hombre'),
('Celestino Pedrero Luís', '09665456K', 24, 1, 271.82, 'mujer'),
('Jacobo Azorin Arribas', '08718994V', 27, 0, 288.94, 'mujer'),
('Encarnación Mínguez Arellano', '14783334E', 39, 1, 690.62, 'hombre'),
('Calixta Cuervo-Ferrero', '93658148Q', 49, 0, 906.28, 'mujer'),
('Bienvenida Bello Calleja', '45194238W', 58, 0, 831.05, 'mujer'),
('Andrés Cardona-Álamo', '74025443T', 39, 1, 640.74, 'hombre'),
('Vidal Paredes Aparicio', '11066482M', 65, 0, 556.16, 'hombre'),
('Gracia Roig Carrera', '50257083V', 18, 1, 84.49, 'mujer'),
('Marisa Conesa', '24054458V', 20, 0, 586.68, 'mujer'),
('Édgar Ciro Ávila Blasco', '32185440J', 26, 1, 315.18, 'mujer'),
('Ana Belén de Gutiérrez', '02395844B', 31, 1, 670.26, 'hombre'),
('Angelino Onofre Amo Jove', '85904929V', 44, 1, 926.51, 'mujer'),
('Gabriela Puga Arroyo', '93504914M', 69, 1, 882.6, 'mujer'),
('Margarita Nadia Reig Serrano', '41243047M', 65, 0, 784.56, 'hombre'),
('Matilde Nydia Segovia Fernandez', '90474856K', 65, 1, 274.14, 'mujer'),
('Reyes Bernardo López Barriga', '40791956N', 20, 0, 230.21, 'hombre'),
('Loreto Malo Moya', '15270688B', 37, 1, 230.69, 'mujer'),
('Nazaret Bonilla Pareja', '72143461N', 39, 0, 865.71, 'hombre'),
('Vinicio León Blanca Román', '75258434B', 59, 0, 682.72, 'hombre'),
('Calixto Cervantes Llobet', '95380815T', 25, 0, 186.78, 'hombre'),
('Duilio Baquero Dueñas', '52336752R', 24, 0, 352.23, 'hombre'),
('Genoveva de Borrego', '40243242J', 56, 1, 391.34, 'mujer'),
('Elpidio Jose Manuel Egea Blanco', '96831217P', 20, 0, 11.67, 'mujer'),
('Jimena Navas Roig', '53252456B', 45, 1, 949.39, 'hombre'),
('Jose Angel Basilio Pomares Osuna', '04047659L', 38, 1, 722.56, 'hombre'),
('Luís Ribes', '84309806Q', 37, 0, 332.92, 'hombre'),
('Nacho Sancho Noguera', '80585629V', 26, 1, 426.24, 'hombre'),
('Ainoa Lerma Alvarado', '80738287K', 65, 1, 619.36, 'hombre'),
('Abilio Cuenca', '90525566N', 53, 1, 310.84, 'mujer'),
('Luna Abellán Arteaga', '22792041J', 68, 0, 470.34, 'hombre'),
('María Pilar Marti Paredes', '39474280K', 31, 0, 795.8, 'mujer'),
('Luis Ángel Roselló Mateu', '92194740K', 23, 0, 520.3, 'hombre'),
('Quique Torrent-Trujillo', '19472531W', 70, 1, 676.07, 'mujer'),
('Desiderio Villalonga Puente', '56964929Y', 27, 1, 55.75, 'hombre'),
('Florentino Solsona Leal', '15278995L', 67, 1, 460.86, 'mujer'),
('Cristina Calderon Barrena', '85115312E', 62, 0, 499.43, 'mujer');

-- INSERTS PARA TABLA CRUPIER
INSERT INTO crupier (nombre_crupier, dni_crupier) VALUES
('Rafaela Leon Baena', '93632210G'),
('Dominga Julián Sáenz', '65277220C'),
('Salomón Rosa Gilabert', '87753177E'),
('Tamara Antúnez Ureña', '60581102T'),
('Jimena Iniesta Sanabria', '93620145A'),
('Reyes Miró Exposito', '11530395J'),
('Elpidio de Exposito', '17818206F'),
('Eufemia Carrillo', '76107556M'),
('Eusebia Nidia Pla Anguita', '71390040E'),
('Toribio Hoyos Gallart', '21752999Q'),
('Graciana Pino-Pizarro', '39664076Z'),
('Perla Hernandez Codina', '41662209R'),
('Jesús Corral Carrera', '16033802V'),
('Arsenio Salvador Bonilla', '35109443F'),
('Dorotea Cid Solé', '14281642A'),
('Elodia Llanos', '51239413Z'),
('Américo del Rodríguez', '28625202G'),
('Priscila Celia Gallego Llanos', '56136647Z'),
('Ezequiel Llano Tena', '35053904K'),
('Severo Palomares', '39646276Q'),
('Itziar Ríos Garrido', '50707951V'),
('Felisa Rivas Ugarte', '33086787L'),
('Belen Expósito Collado', '20888582X'),
('Vito Vallés Gras', '28804343Z'),
('María Jesús Montero Cifuentes', '15970267L'),
('Belen Osorio Feliu', '38472410Q'),
('Rosenda Carreño-Franco', '89353159J'),
('Valentín Maldonado Oliver', '61276258V'),
('Alberto Almazán', '22293114Z'),
('Timoteo Leiva Navarrete', '79050467M'),
('Tecla Donaire Juárez', '17234777S'),
('Nicodemo Mateos', '60826391Z'),
('Édgar Ramón Ripoll Jover', '45471995P'),
('Alondra Gabaldón Falcón', '52131094F'),
('Reynaldo Font', '39720556C'),
('Yolanda Vera Campo', '99081362P'),
('Anselma del Bastida', '38925713Q'),
('Federico Verdugo Grau', '79688088S'),
('Juan José Francisco Ríos', '13372737C'),
('Bruno de Andreu', '71705363F'),
('Visitación Encarna Casanovas Bustos', '55757350P'),
('Pedro Viana Palomar', '45749293Z'),
('Haydée Alfaro Cámara', '98678060W'),
('Gloria Sonia Galiano Aragón', '87532384E'),
('Bautista Martín Bayona', '93384043D'),
('Modesta Malo Batlle', '62386990F'),
('Yaiza Montero', '18789115P'),
('Íñigo Pera Peláez', '63593319X'),
('Félix de Miranda', '80667292X'),
('Hilario Galán Carnero', '75242075V'),
('Geraldo Sanabria-Lledó', '54639656W'),
('Inés del Goñi', '60405206G'),
('Anita Borja Villena', '91882505G'),
('Irene Herrero Benavent', '30467846F'),
('Cecilio Emiliano Solsona Menendez', '35799584N'),
('Paca Elisa Salinas Miranda', '52919726E'),
('Rodolfo Viña Romeu', '95405558G'),
('Carlota Benito-Sáez', '65355275E'),
('Leticia Colom Palacios', '48740490Y'),
('Febe Merino Artigas', '46691440W'),
('Dorita Guzman-Ros', '02443069J'),
('Marcelino Heras Arellano', '46403555J'),
('Buenaventura Simó Olivé', '75281793X'),
('Macario Guardiola Priego', '53934991V'),
('Glauco Escamilla-Yuste', '84375945Z'),
('Natalio Ibañez Cárdenas', '17969752J'),
('Maricela Gárate Pla', '40178040R'),
('Juan Francisco Tejada Fabregat', '24896966Y'),
('Lalo Jáuregui Jurado', '36442175J'),
('Patricia Barberá Sosa', '62619527N'),
('Paulina Garzón Alarcón', '33109241H'),
('Luciano Madrid Ayala', '62658961E'),
('Albano Zabaleta-Recio', '22466468T'),
('Rosaura Meléndez', '24114146H'),
('Raúl Aliaga Cueto', '14925680N'),
('Amando Paniagua Ribes', '11403697S'),
('Ildefonso de Juárez', '26954342T'),
('Flora de Prat', '85695984B'),
('Adelaida Araujo Zaragoza', '70713178D'),
('Violeta Jover Gaya', '96393527N'),
('Candelario Barrios Llano', '27534693J'),
('Baltasar Teruel', '95837653V'),
('Urbano Clavero Lluch', '05742957V'),
('Carmelo Zabala Ribera', '43788872L'),
('Hipólito Juan Francisco Mateos Piquer', '20868568F'),
('Carmina Rosenda Quevedo Cuevas', '28715361S'),
('Felicidad Calleja Cornejo', '43955183F'),
('Fabio Escolano Perez', '83606184P'),
('África Tamarit Enríquez', '39746019J'),
('Guillermo Trujillo Galán', '52084620S'),
('Marcial Gaya Díez', '49149970T'),
('Yolanda Arranz Royo', '03954277N'),
('Constanza Requena Querol', '04214262X'),
('Adelia Castells Morante', '68506816K'),
('Jose Manuel Gelabert-Hernández', '48599129K'),
('Marcia Paniagua Villalba', '79095363N'),
('María Luisa Palomo Coloma', '38641043M'),
('Osvaldo Escribano Bilbao', '83770248Z'),
('Timoteo Valenzuela Arnau', '99429521G'),
('Álvaro Laguna', '39579510L');

-- INSERTS PARA TABLA JUEGO
INSERT INTO juego (nombre_juego, id_CrupierAsignado) VALUES
('Juego Iste', 1),
('Juego Sed', 2),
('Juego Deserunt', 3),
('Juego Distinctio', 4),
('Juego Recusandae', 5),
('Juego Ex', 6),
('Juego Id', 7),
('Juego Cupiditate', 8),
('Juego Maxime', 9),
('Juego Sit', 10),
('Juego Omnis', 11),
('Juego Ullam', 12),
('Juego Sapiente', 13),
('Juego Blanditiis', 14),
('Juego Ab', 15),
('Juego Animi', 16),
('Juego Ullam', 17),
('Juego Doloremque', 18),
('Juego Animi', 19),
('Juego Totam', 20),
('Juego Ipsum', 21),
('Juego Rerum', 22),
('Juego Commodi', 23),
('Juego Similique', 24),
('Juego Atque', 25),
('Juego Quibusdam', 26),
('Juego Iste', 27),
('Juego Eius', 28),
('Juego Dicta', 29),
('Juego Illo', 30),
('Juego Beatae', 31),
('Juego A', 32),
('Juego Repudiandae', 33),
('Juego Et', 34),
('Juego Id', 35),
('Juego Accusantium', 36),
('Juego Asperiores', 37),
('Juego Ducimus', 38),
('Juego Magnam', 39),
('Juego Vero', 40),
('Juego Quidem', 41),
('Juego Rerum', 42),
('Juego Natus', 43),
('Juego Consequuntur', 44),
('Juego Provident', 45),
('Juego Reprehenderit', 46),
('Juego Maiores', 47),
('Juego Ipsa', 48),
('Juego Et', 49),
('Juego Beatae', 50),
('Juego Ratione', 51),
('Juego Error', 52),
('Juego Sequi', 53),
('Juego Cumque', 54),
('Juego Voluptatibus', 55),
('Juego Saepe', 56),
('Juego Consequatur', 57),
('Juego Cupiditate', 58),
('Juego Earum', 59),
('Juego Corrupti', 60),
('Juego Velit', 61),
('Juego Iste', 62),
('Juego Voluptatem', 63),
('Juego Minima', 64),
('Juego Error', 65),
('Juego Beatae', 66),
('Juego Tempora', 67),
('Juego Saepe', 68),
('Juego Officia', 69),
('Juego Ipsum', 70),
('Juego Quam', 71),
('Juego Commodi', 72),
('Juego Odio', 73),
('Juego Voluptatibus', 74),
('Juego Fuga', 75),
('Juego Illum', 76),
('Juego Itaque', 77),
('Juego Voluptatum', 78),
('Juego Velit', 79),
('Juego Impedit', 80),
('Juego Itaque', 81),
('Juego Quidem', 82),
('Juego Libero', 83),
('Juego Consequuntur', 84),
('Juego Voluptate', 85),
('Juego At', 86),
('Juego Illum', 87),
('Juego Repudiandae', 88),
('Juego Ratione', 89),
('Juego Corrupti', 90),
('Juego Expedita', 91),
('Juego Praesentium', 92),
('Juego Autem', 93),
('Juego Recusandae', 94),
('Juego Nam', 95),
('Juego Vero', 96),
('Juego Ab', 97),
('Juego Dolor', 98),
('Juego Vel', 99),
('Juego Commodi', 100);

-- INSERTS PARA TABLA CLIENTEJUEGO
INSERT INTO clienteJuego (id_cliente, id_juego, fecha) VALUES
(69, 4, NULL),
(51, 76, NULL),
(73, 85, NULL),
(4, 11, NULL),
(83, 55, NULL),
(18, 60, NULL),
(24, 7, NULL),
(34, 49, NULL),
(42, 28, NULL),
(59, 42, NULL),
(44, 98, NULL),
(49, 36, NULL),
(97, 54, NULL),
(33, 11, NULL),
(61, 3, NULL),
(96, 70, NULL),
(7, 45, NULL),
(29, 84, NULL),
(9, 100, NULL),
(84, 6, NULL),
(97, 4, NULL),
(32, 26, NULL),
(3, 80, NULL),
(20, 31, NULL),
(17, 61, NULL),
(86, 15, NULL),
(73, 28, NULL),
(60, 90, NULL),
(33, 99, NULL),
(48, 22, NULL),
(78, 78, NULL),
(96, 92, NULL),
(15, 100, NULL),
(21, 40, NULL),
(14, 75, NULL),
(4, 40, NULL),
(74, 87, NULL),
(49, 51, NULL),
(92, 26, NULL),
(10, 76, NULL),
(89, 81, NULL),
(32, 14, NULL),
(90, 99, NULL),
(39, 88, NULL),
(77, 16, NULL),
(73, 6, NULL),
(45, 69, NULL),
(55, 85, NULL),
(48, 9, NULL),
(65, 83, NULL),
(44, 2, NULL),
(54, 63, NULL),
(14, 56, NULL),
(47, 82, NULL),
(59, 91, NULL),
(20, 56, NULL),
(23, 94, NULL),
(67, 84, NULL),
(35, 79, NULL),
(69, 100, NULL),
(62, 60, NULL),
(56, 94, NULL),
(76, 35, NULL),
(42, 32, NULL),
(12, 36, NULL),
(58, 32, NULL),
(97, 60, NULL),
(73, 79, NULL),
(86, 49, NULL),
(44, 4, NULL),
(64, 42, NULL),
(24, 63, NULL),
(28, 46, NULL),
(34, 44, NULL),
(36, 77, NULL),
(90, 36, NULL),
(72, 2, NULL),
(67, 25, NULL),
(11, 31, NULL),
(93, 53, NULL),
(63, 72, NULL),
(98, 31, NULL),
(89, 61, NULL),
(83, 92, NULL),
(63, 58, NULL),
(3, 12, NULL),
(38, 29, NULL),
(52, 89, NULL),
(32, 40, NULL),
(85, 75, NULL),
(48, 61, NULL),
(71, 68, NULL),
(45, 55, NULL),
(96, 71, NULL),
(43, 46, NULL),
(90, 59, NULL),
(35, 40, NULL),
(33, 30, NULL),
(16, 93, NULL),
(25, 41, NULL);
select * from cliente;